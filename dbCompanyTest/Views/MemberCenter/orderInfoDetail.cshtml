@model IEnumerable<dbCompanyTest.ViewModels.OrderInfoDetailViewModel>

@{
    ViewData["Title"] = "orderInfoDetail";
}

<div class="container">
    <div class="pb-3">
        <div>
            <br />
            <br />
            <span class="d-flex"><a asp-action="Index" asp-route-id="CL1-00376">會員中心</a> > <a asp-action="orderInfo" asp-route-id="CL1-00376">訂單管理</a> > <a asp-action="orderInfoDetail">訂單詳情</a></span>
            <hr />
            <br />
            <table class="table">
                <thead>
                    <tr>
                        <th>訂單編號</th>
                        <th>商品名稱</th>
                        <th>規格</th>
                        <th>數量</th>
                        <th>價格</th>
                    </tr>
                </thead>
                <tbody>

                    @{
                        foreach (var item in Model)
                        {
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => item.訂單編號)
                                </td>
                                <td>
                                    @{
                                        if (@item.圖片 != null)
                                        {
                                            <img class="card-img rounded-0 img-fluid" src="~/images/@item.圖片" style="width:118px;height:162px" />
                                        }
                                        else
                                        {
                                            <img class="card-img rounded-0 img-fluid" src="~/images/404.jpg" style="width:118px;height:162px" />
                                        }
                                    }
                                    @Html.DisplayFor(modelItem => item.商品名)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.規格)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.數量)
                                </td>
                                @{
                                    decimal 價格 = (decimal)item.價格;
                                    <td>
                                    @價格.ToString("###,###,##0")$
                                    </td>
                                }
                            </tr>
                        }
                    }
                </tbody>
            </table>
            <br />
            <dl class="row">
                @{
                    string 付款="";
                    string 地址="";
                    decimal 總金=0;
                    foreach (var items in Model)
                    {
                        付款 = items.付款方式;
                        地址 = items.送貨地址;
                        總金 = (decimal)items.總金額;
                    }
                    
                    <hr />
                    <dt class="col-sm-10 text-end pe-5">
                        @Html.DisplayNameFor(model => model.付款方式)
                    </dt>
                    <dd class="col-sm-2 text-end">
                        @付款
                    </dd>
                    <dt class="col-sm-10 text-end pe-5">
                        @Html.DisplayNameFor(model => model.送貨地址)
                    </dt>
                    <dd class="col-sm-2 text-end">
                        @地址
                    </dd>
                    <dt class="col-sm-10 text-end pe-5">
                        @Html.DisplayNameFor(model => model.總金額)
                    </dt>
                    <dd class="col-sm-2 text-end">
                        @總金.ToString("###,###,##0")$
                    </dd>
                }

            </dl>
        </div>
        <div>
@*               <a asp-action="orderInfo" asp-route-id="CL1-00376">Back to List</a>
*@        </div>

    </div>
</div>
